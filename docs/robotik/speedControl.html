<!doctype html>
<html class="docs-version-current" lang="de" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.9">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Rule The Bots RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Rule The Bots Atom Feed">
<link rel="search" type="application/opensearchdescription+xml" title="Rule The Bots" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">Ein Regler fÃ¼r die Geschwindigkeit | Rule The Bots</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://spacehal.github.io/docs/robotik/speedControl"><meta data-react-helmet="true" name="docsearch:language" content="de"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Ein Regler fÃ¼r die Geschwindigkeit | Rule The Bots"><meta data-react-helmet="true" name="description" content="Mit einem Integralregler und Rad-Encodern wird die Geschwindigkeit eines Roboters geregelt."><meta data-react-helmet="true" property="og:description" content="Mit einem Integralregler und Rad-Encodern wird die Geschwindigkeit eines Roboters geregelt."><meta data-react-helmet="true" name="keywords" content="Arduino,Roboter,Robotik,Gesschwindigkeit regeln,Quadraturencoder,Inkrementalgeber,Radencoder,Motorencoder,Integralregler,Zumo 32u4"><link data-react-helmet="true" rel="shortcut icon" href="/img/LogoSmallRed.svg"><link data-react-helmet="true" rel="canonical" href="https://spacehal.github.io/docs/robotik/speedControl"><link data-react-helmet="true" rel="alternate" href="https://spacehal.github.io/docs/robotik/speedControl" hreflang="de"><link data-react-helmet="true" rel="alternate" href="https://spacehal.github.io/docs/robotik/speedControl" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.abc57156.css">
<link rel="preload" href="/assets/js/runtime~main.482b3fa6.js" as="script">
<link rel="preload" href="/assets/js/main.5855f8db.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Zum Hauptinhalt springen</a></div><nav class="navbar navbar--fixed-top navbarHideable_2qcr"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/LogoSmallRed.svg" alt="Rule the Bots" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/LogoSmallRed.svg" alt="Rule the Bots" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">RuleTheBots</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/arduino/helloworld">Arduino</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/robotik/beginning">Robotik</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/zumo32u4/gettingStarted">Zumo32u4</a><a class="navbar__item navbar__link" href="/docs/more/links">Links</a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">ğŸŒœ</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">ğŸŒ</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Suche"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Suche</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="ZurÃ¼ck nach oben scrollen" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo sidebarWithHideableNavbar_267A"><a tabindex="-1" class="sidebarLogo_3h0W" href="/"><img src="/img/LogoSmallRed.svg" alt="Rule the Bots" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/img/LogoSmallRed.svg" alt="Rule the Bots" class="themedImage_1VuW themedImage--dark_hz6m"><b>RuleTheBots</b></a><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Robotik</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Linienfolger</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Lagebestimmung</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/robotik/wheelEncoder">Motorencoder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/robotik/goStraight">GeÂ­raÂ­deÂ­ausÂ­fahrt</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/robotik/speedControl">Geschwindigkeitsregler</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/robotik/botBarcode">Anwendung: Barcode</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/robotik/odometrie">Odometrie</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/robotik/gyroscope">Gyroskop</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Gitter</a></li></ul></li></ul></nav><button type="button" title="Seitenleiste einklappen" aria-label="Seitenleiste einklappen" class="button button--secondary button--outline collapseSidebarButton_1CGd"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_3E-R"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">Auf dieser Seite</button></div><div class="theme-doc-markdown markdown"><header><h1>Ein Regler fÃ¼r die Geschwindigkeit</h1></header><p>Mit den <a href="/docs/robotik/wheelEncoder">Motor-Encodern</a> kann der Roboter nicht nur <a href="/docs/robotik/goStraight">geradeaus fahren</a> oder eine <a href="/docs/robotik/wheelEncoder#aufgaben">festgelegte Distanz</a> zurÃ¼cklegen, sondern es ist damit auch mÃ¶glich, die Geschwindigkeit des Roboters zu regeln. Ohne Geschwindigkeitsregelung wÃ¼rde zum Beispiel ein fester PWM-Wert fÃ¼r den Motor bei abnehmender Batteriespannung zu einem langsam fahrenden Roboter fÃ¼hren. </p><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="vorbetrachtungen-zum-p-regler">Vorbetrachtungen zum P-Regler<a aria-hidden="true" class="hash-link" href="#vorbetrachtungen-zum-p-regler" title="Direkter Link zur Ãœberschrift">â€‹</a></h2><p>Aber wie wÃ¼rde ein Regler fÃ¼r die Geschwindigkeit aussehen? Vom <a href="/docs/robotik/edge_P_Control#proportional-regler-p-controller">Linienfolger</a> ist bereits der Proportional-Regler bekannt. Angenommen, der Roboter soll mit einer Gechwindigkeit von 2000 Encoder-Impulsen pro Sekunde fahren. Dann wÃ¼rde sich die Regelabweichung (also der Fehler) wie folgt berechnen:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><pre tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">fehler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> geschwindigkeit </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2000</span><span class="token plain">       </span><span class="token comment" style="color:#999988;font-style:italic">// Geschwindigkeit in Impulse pro Sekunde</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><p>Mit den Proportionalregler wÃ¼rde dann das Motorsignal fÃ¼r die <code>setSpeeds()</code>-Funktion bestimmt werden:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><pre tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">motorSignal </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> kp </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> fehler             </span><span class="token comment" style="color:#999988;font-style:italic">// P-Regler fÃ¼r das Motorsignal</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">setSpeeds</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">motorSignal</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">motorSignal</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// einstellen der Geschwindigkeit</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><p>Betrachten wir an dieser Stelle die zwei FÃ¤lle <em>Geschwindigkeit ist 0</em> und <em>Geschwindigkeit ist 2000</em>.</p><p><strong>Geschwindigkeit ist 0:</strong> In diesem Fall ergibt sich ein Fehler von 2000. Mit einem <span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>k</mi><mi>p</mi></msub><mo>=</mo><mn>0.1</mn></mrow><annotation encoding="application/x-tex">k_p = 0.1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.980548em;vertical-align:-0.286108em"></span><span class="mord"><span class="mord mathnormal" style="margin-right:0.03148em">k</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.15139200000000003em"><span style="top:-2.5500000000000003em;margin-left:-0.03148em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">p</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.286108em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">1</span></span></span></span></span> wÃ¼rde sich ein Motorsignal von 200 ergeben und der Roboter wÃ¼rde anfangen loszufahren.</p><p><strong>Geschwindigkeit ist 2000:</strong> In dem Fall, wenn der Roboter seine Sollgeschwindigkeit von 2000 erreicht hÃ¤tte, wÃ¼rde der Fehler 0 sein und sich ein Motorsignal von ebenfalls 0 einstellen, der Roboter wÃ¼rde also wieder stehen bleiben.</p><p>Ein Proportional-Regler, der das Motorsignal einfach nur proportional zum Fehler bestimmt, ist also zur Regelung der Geschwindigkeit ungeeignet. Ebenfalls ist der <a href="/docs/robotik/lineFollowerPD#differential-anteil">Differential-Regler</a> ungeeignet, da er nur auf Ã„nderungen des Fehlers eingeht. Steht der Roboter einfach nur still, so Ã¤ndert sich der Fehler nicht und es wÃ¼rde sich fÃ¼r das Motorsignal nur der Wert 0 ergeben.</p><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="integral-regler-fÃ¼r-die-geschwindigkeit">Integral-Regler fÃ¼r die Geschwindigkeit<a aria-hidden="true" class="hash-link" href="#integral-regler-fÃ¼r-die-geschwindigkeit" title="Direkter Link zur Ãœberschrift">â€‹</a></h2><p>Die Abbildung stellt das Verhalten eines Integral-Reglers zur Geschwindigkeitsreglung dar.</p><div class="chartwrapper"><canvas role="img" height="150" width="300"></canvas></div><div class="btngroup"><button class="btnchart">  ki = 0.1  </button><button class="btnchart">  ki = 0.2  </button><button class="btnchart">  ki = 0.4  </button><button class="btnchart">  ki = 0.1, kp=1  </button><button class="btnchart">  ki = 0.2, kp =1  </button></div><div class="admonition admonition-note alert alert--secondary"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="14" height="16" viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>ÃœBEN</h5></div><div class="admonition-content"><ol><li><p>Beschreiben Sie weitere Situationen, in denen es sinnvoll ist die Motordrehzahl zu regeln.</p></li><li><p>Lassen Sie den Roboter Ã¼ber eine Zeit von ca. 0,5 Sekunden mit verschiedenen Geschwindigkeiten (200, 300, 400) fahren. Bestimmen sie gleichzeitig die <strong>aktuelle Geschwindigkeit in Impulsen pro Sekunde</strong>. Nutzen Sie fÃ¼r eine bessere Genauigkeit bei der Zeitmessung sdie <a href="https://www.arduino.cc/reference/de/language/functions/time/micros/" target="_blank" rel="noopener noreferrer"><code>micros()</code></a> Funktion. Geben Sie die Geschwindigkeiten wÃ¤hrend des Beschleunigungsvorgangs auf dem seriellen Monitor aus.</p><p>Stellen Sie abschlieÃŸend ihr Ergebnisse mit einem geeignetem Programm (z.B. <a href="https://support.microsoft.com/de-de/topic/darstellen-von-daten-im-punkt-oder-liniendiagramm-4570a80f-599a-4d6b-a155-104a9018b86e#OfficeVersion=Windows" target="_blank" rel="noopener noreferrer">Excel</a> oder Openoffice) graphisch dar (y-Achse: Impulse pro Sekunde, x-Achse: Zeit in Millisekudnen) und beantworten Sie folgende Fragen:</p><ol><li>Wie lange benÃ¶tigt der Roboter, bis er seine jeweilige Maximalgeschwindigkeit erreicht hat?</li><li>Welcher Funktionstyp beschreibt den Zusammenhang zwischen Zeit und Geschwindigkeit am besten.   </li></ol></li></ol><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly arduino"><pre tabindex="0" class="prism-code language-arduino codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">// ...   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Zum Bestimmen der Geschwindigkeit sollten in einem festen Zeitintervall `dTime` die</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// Encoder-Impulse der RÃ¤der bestimmt werden. Damit die Ergebnisse nicht zu stark schwanken</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// (Quantisierungsfehler), sollte das Zeitintervall in welchem die Encoder-Impulse bestimmt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// werden so festgelegt sein, das im Mittel ca. 50 Impulse detektiert werden.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">int dTime = 20 * 1e3;                                  // in Mikrosekunden</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">motors.setSpeeds(MOTOR_POWER, MOTOR_POWER);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">while (jetzt - startTime &lt; ON_TIME) {                  // Messung dauert insgesamt ON_TIME</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  aktuelleZeit = micros();                             // Nutzen Sie micros() fÃ¼r eine bessere Genauigkeit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  if (aktuelleZeit - letztesIntervall &gt;= dTime) { </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    letztesIntervall = aktuelleZeit;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int ticksLeft = encoders.getCountsAndResetRight(); // Impulse auslesen und zurÃ¼cksetzen</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    int ticksRight = encoders.getCountsAndResetLeft();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ... </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// ... </span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="integral-regler">Integral-Regler<a aria-hidden="true" class="hash-link" href="#integral-regler" title="Direkter Link zur Ãœberschrift">â€‹</a></h2><p> Der <strong>Integralanteil</strong> (I-Anteil) eines Regler versucht bleibende Regelabweichungen (<em>steady state error</em>) zu verringern.</p><p>Der Integralanteil gibt dem Regler ein <strong>GedÃ¤chtnis</strong>, wodurch <strong>Abweichungen</strong> von der SollgrÃ¶ÃŸe, die <strong>Ã¼ber einen langen Zeitraum</strong> bestehen, besonders berÃ¼cksichtigt werden.</p><p>Aus mathematischer Sicht entspricht dieses GedÃ¤chtnis dem <strong>Aufsummieren der Fehler</strong> oder auch dem <a href="https://de.wikipedia.org/wiki/Regler#I-Regler_(I-Anteil)" target="_blank" rel="noopener noreferrer">Integral der Fehler</a> Ã¼ber die Zeit.</p><div class="math math-display"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><msubsup><mo>âˆ«</mo><mn>0</mn><mi>t</mi></msubsup><mi>e</mi><mo stretchy="false">(</mo><mi>t</mi><mo stretchy="false">)</mo><mtext>Â d</mtext><mi>t</mi><mo>â‰ˆ</mo><mi>e</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹…</mo><mi mathvariant="normal">Î”</mi><mi>t</mi><mo>+</mo><mi>e</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mtext>Â </mtext><mo>â‹…</mo><mi mathvariant="normal">Î”</mi><mi>t</mi><mo>+</mo><mo>â‹¯</mo><mo>=</mo><mo stretchy="false">(</mo><mi>e</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mn>0</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mi>e</mi><mo stretchy="false">(</mo><msub><mi>t</mi><mn>1</mn></msub><mo stretchy="false">)</mo><mo>+</mo><mo>â‹¯</mo><mtext>â€‰</mtext><mo stretchy="false">)</mo><mtext>Â </mtext><mi mathvariant="normal">Î”</mi><mi>t</mi></mrow><annotation encoding="application/x-tex">\int_{0}^{t} e(t) \text{ d}t \approx e(t_0)\ \cdot \Delta t + e(t_1)\ \cdot \Delta t + \cdots = ( e(t_0) + e(t_1) + \cdots )\ \Delta t</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:2.455406em;vertical-align:-0.9119499999999999em"></span><span class="mop"><span class="mop op-symbol large-op" style="margin-right:0.44445em;position:relative;top:-0.0011249999999999316em">âˆ«</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.5434560000000002em"><span style="top:-1.7880500000000001em;margin-left:-0.44445em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">0</span></span></span></span><span style="top:-3.8129000000000004em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">t</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.9119499999999999em"><span></span></span></span></span></span></span><span class="mspace" style="margin-right:0.16666666666666666em"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord mathnormal">t</span><span class="mclose">)</span><span class="mord text"><span class="mord">Â d</span></span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">â‰ˆ</span><span class="mspace" style="margin-right:0.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em"></span><span class="mord">Î”</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace">Â </span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">â‹…</span><span class="mspace" style="margin-right:0.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:0.76666em;vertical-align:-0.08333em"></span><span class="mord">Î”</span><span class="mord mathnormal">t</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:0.36687em;vertical-align:0em"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.2777777777777778em"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mopen">(</span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">0</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal">e</span><span class="mopen">(</span><span class="mord"><span class="mord mathnormal">t</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.30110799999999993em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight">1</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222222222222222em"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222222222222222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="minner">â‹¯</span><span class="mspace" style="margin-right:0.16666666666666666em"></span><span class="mclose">)</span><span class="mspace">Â </span><span class="mord">Î”</span><span class="mord mathnormal">t</span></span></span></span></span></div><p>FÃ¼r den Pseudocode kann das Integral mit Hilfe der einzelnen Summen <!-- -->\<!-- -->( e(t_i)\cdot \Delta t <!-- -->\<!-- -->) berechnet werden. Zu jedem neuen Zeitpunkt wird zu dem bereits berechneten Integral-Wert der neue Fehler <!-- -->\<!-- -->( e(t_i)\cdot \Delta t <!-- -->\<!-- -->) hinzuaddiert. Dadurch wird aus dem  komplizierten Integral eine sehr einfache Addition:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly txt"><pre tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integral = integral + error * dTime // Aufsummieren des Fehler zum Integralanteil</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><p>Die, Ã¤hnlich wie beim Differential-Anteil, zu einer einfachen Summe wird, wenn bei konstanten Zeitintervallen <code>dTime</code> weggelassen wird:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly txt"><pre tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integral = integral + error // Aufaddieren des Fehlers liefert den Integralanteil</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><p>Zur Regelung der Motorgeschwindigkeit wird der Integral-Anteil, Ã¤hnlich wie der Proportional-Anteil, mit einem Faktor <!-- -->\<!-- -->(k_i<!-- -->\<!-- -->) gewichtet. FÃ¼r die GeschwindigkeitsÃ¤nderung <code>deltaSpeed</code> ergibt sich zusammen mit dem P-Anteil folgender Pseudocode:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly txt"><pre tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integral   = integral + error             // Aufsummieren des Fehler zum Integralanteil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">deltaSpeed = error * kp + integral * ki   // PI-Regler mit den Faktoren kp und ki</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="integralanteil-beschrÃ¤nken">Integralanteil beschrÃ¤nken<a aria-hidden="true" class="hash-link" href="#integralanteil-beschrÃ¤nken" title="Direkter Link zur Ãœberschrift">â€‹</a></h3><p>Wird der <strong>Integralanteil nicht unendlich groÃŸ</strong>, wenn der Fehler kontinuierlich aufaddiert wird?</p><p>Im Prinzip sollte der Integral-Anteil nicht unendlich groÃŸ werden, da der Fehler sowohl positiv, als auch negativ sein kann und sich beim Aufaddieren somit ausgleichen wÃ¼rde. In der Praxis sieht es jedoch oft anders aus und der <strong>Integralanteil</strong> kann <strong>unerwÃ¼nscht groÃŸe Werte</strong> annehmen. </p><p>Besteht fÃ¼r eine <em>lange Zeit</em> ein positiver Fehler (zum Beispiel durch eine enge Kurve) so ergibt sich ein recht groÃŸer Integralanteil. Wird durch den Regler der Fehler nach einer Weile wieder auf Null oder ein wenig ins Negative gebracht, wÃ¤re das Ziel erreicht, und der Roboter befÃ¤nde sich auf der Linie. Das Problem ist jedoch, dass der bereits stark angewachsene positive Integralanteil durch das Aufaddieren von wenigen negativen Fehlerwerten nicht schnell genug auf Null zurÃ¼ckgeht. </p><p>Bei der Berechnung von <code>deltaSpeed</code> wÃ¼rde der Integralanteil also immer noch den aufaddierten positiven Fehler korrigieren wollen, wÃ¤hrend der Roboter bereits wieder Ã¼ber der Linie ist. Daher macht es Sinn, <strong>fÃ¼r den Integral-Anteil nur eine bestimmte Anzahl von Fehlerwerten zu berÃ¼cksichtigen.</strong></p><p>Wird nur der aktuelle Fehler (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mi>n</mi></msub></mrow><annotation encoding="application/x-tex">e_n</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.58056em;vertical-align:-0.15em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.151392em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathnormal mtight">n</span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.15em"><span></span></span></span></span></span></span></span></span></span></span>) und der vorhergehenden Fehler (<span class="math math-inline"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><msub><mi>e</mi><mrow><mi>n</mi><mo>âˆ’</mo><mn>1</mn></mrow></msub></mrow><annotation encoding="application/x-tex">e_{n-1}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.638891em;vertical-align:-0.208331em"></span><span class="mord"><span class="mord mathnormal">e</span><span class="msupsub"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.301108em"><span style="top:-2.5500000000000003em;margin-left:0em;margin-right:0.05em"><span class="pstrut" style="height:2.7em"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mbin mtight">âˆ’</span><span class="mord mtight">1</span></span></span></span></span><span class="vlist-s">â€‹</span></span><span class="vlist-r"><span class="vlist" style="height:0.208331em"><span></span></span></span></span></span></span></span></span></span></span>) berÃ¼cksichtigt, so wÃ¼rde sich folgender Pseudocode ergeben:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly txt"><pre tabindex="0" class="prism-code language-txt codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integral = lastError + error;</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><p>Sollten mehr als nur die letzte beiden Fehlerwerte berÃ¼cksichtigt werden, so kann durch den Arduinobefehl <code>constrain()</code> der Wert des Integralanteils auf sinnvolle Werte begrenzt werden:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly arduino"><pre tabindex="0" class="prism-code language-arduino codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">integral = constrain(integral,-4000,4000);</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="vollstÃ¤ndiger-pid-regler">VollstÃ¤ndiger PID-Regler<a aria-hidden="true" class="hash-link" href="#vollstÃ¤ndiger-pid-regler" title="Direkter Link zur Ãœberschrift">â€‹</a></h2><p>FÃ¼hrt man den P, I und D-Anteil zusammen, erhÃ¤lt man den so genannten PID-Regler. Der PID-Regler ist in der Regelungstechnik sehr weit verbreitet und findet Ã¼berall dort eine Anwendung, wo ein vorgegebener Wert (Temperatur, Wasserstand oder Linienposition) trotz Abweichungen durch Ã¤uÃŸere EinflÃ¼sse eingehalten werden soll.</p><p>Beim PID-Regler ergibt sich die GeschwindigkeitsÃ¤nderung aus der Summer des Proportional-, des Intergral- und des Differential-Anteils:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly arduino"><pre tabindex="0" class="prism-code language-arduino codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain">deltaSpeed   = (error * kp) + (integral * ki) + (differential * kd)  </span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_3R7-" id="pseudocode-pid-regler">Pseudocode PID-Regler<a aria-hidden="true" class="hash-link" href="#pseudocode-pid-regler" title="Direkter Link zur Ãœberschrift">â€‹</a></h3><p>Der gesamte Pseudocode ohne BerÃ¼cksichtigung von <code>dTime</code> wÃ¼rde dann folgendermaÃŸen aussehen:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly go"><pre tabindex="0" class="prism-code language-go codeBlock_23N8 thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wertLinie </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">500</span><span class="token plain">                             </span><span class="token comment" style="color:#999988;font-style:italic">// Sollwert (Sensorwert genau Ã¼ber der Linie)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kp        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain">                               </span><span class="token comment" style="color:#999988;font-style:italic">// Proportional-Faktor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ki        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain">                             </span><span class="token comment" style="color:#999988;font-style:italic">// Integral-Faktor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kd        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain">                             </span><span class="token comment" style="color:#999988;font-style:italic">// Differential-Faktor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">integral  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">                               </span><span class="token comment" style="color:#999988;font-style:italic">// Startwert fÃ¼r Integral-Anteil</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">error_alt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain">                               </span><span class="token comment" style="color:#999988;font-style:italic">// alter Fehlerwert</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">wiederhole immer</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wertSensor   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">leseSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// `wertSensor` sei ein Wert zwischen  0 und 1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token builtin">error</span><span class="token plain">        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> wertLinie </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> wertSensor   </span><span class="token comment" style="color:#999988;font-style:italic">// Fehlerwert, Regeldifferenz</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    integral     </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> integral </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Integral-Anteil </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    differential </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> error_alt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    error_alt    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    deltaSpeed   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token builtin">error</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> kp </span><span class="token operator" style="color:#393A34">+</span><span class="token plain">  integral </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> ki </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> differential </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> kd  </span><span class="token comment" style="color:#999988;font-style:italic">// PID-Regler</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                                </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    leftSpeed    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> leftSpeed </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> deltaSpeed   </span><span class="token comment" style="color:#999988;font-style:italic">// Drehzahl links bestimmen</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    rightSpeed   </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> rightSpeed </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> deltaSpeed  </span><span class="token comment" style="color:#999988;font-style:italic">// Drehzahl rechts bestimmen</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">begrenze</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">leftSpeed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">                     </span><span class="token comment" style="color:#999988;font-style:italic">// Drehzahl auf sinnvolle Werte begrenzen</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">begrenze</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">rightSpeed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// (beim Zumo zwischen -400 und +400)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">setMotors</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">leftSpeed</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">rightSpeed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Aktualisieren der Motordrehzahlen</span><br></span></code></pre><button type="button" aria-label="In die Zwischenablage kopieren" class="copyButton_Ue-o clean-btn">Kopieren</button></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Dokumentation Seiten Navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/robotik/goStraight"><div class="pagination-nav__sublabel">ZurÃ¼ck</div><div class="pagination-nav__label">Â« <!-- -->GeÂ­raÂ­deÂ­ausÂ­fahrt</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/robotik/botBarcode"><div class="pagination-nav__sublabel">Weiter</div><div class="pagination-nav__label">Anwendung: Barcode<!-- --> Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#vorbetrachtungen-zum-p-regler" class="table-of-contents__link toc-highlight">Vorbetrachtungen zum P-Regler</a></li><li><a href="#integral-regler-fÃ¼r-die-geschwindigkeit" class="table-of-contents__link toc-highlight">Integral-Regler fÃ¼r die Geschwindigkeit</a></li><li><a href="#integral-regler" class="table-of-contents__link toc-highlight">Integral-Regler</a><ul><li><a href="#integralanteil-beschrÃ¤nken" class="table-of-contents__link toc-highlight">Integralanteil beschrÃ¤nken</a></li></ul></li><li><a href="#vollstÃ¤ndiger-pid-regler" class="table-of-contents__link toc-highlight">VollstÃ¤ndiger PID-Regler</a><ul><li><a href="#pseudocode-pid-regler" class="table-of-contents__link toc-highlight">Pseudocode PID-Regler</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/SpaceHal/spacehal.github.io/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Schule</div><ul class="footer__items"><li class="footer__item"><a href="https://www.osztiem.de/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>OSZTIEM<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://www.arduino.cc/reference/de/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Arduino<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/impressum">Impressum</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 Stefan Warm. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.482b3fa6.js"></script>
<script src="/assets/js/main.5855f8db.js"></script>
</body>
</html>