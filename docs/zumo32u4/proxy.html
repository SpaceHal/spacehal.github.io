<!doctype html>
<html lang="de" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-zumo32u4/proxy" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.4.3">
<title data-rh="true">Die Näherungssensoren (nur Zumo 32u4) | Rule The Bots</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://spacehal.github.io/docs/zumo32u4/proxy"><meta data-rh="true" name="docusaurus_locale" content="de"><meta data-rh="true" name="docsearch:language" content="de"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Die Näherungssensoren (nur Zumo 32u4) | Rule The Bots"><meta data-rh="true" name="description" content="Pololu Zumo 32u4 Library: Näherungssensoren"><meta data-rh="true" property="og:description" content="Pololu Zumo 32u4 Library: Näherungssensoren"><link data-rh="true" rel="icon" href="/img/LogoSmallRed.svg"><link data-rh="true" rel="alternate" href="https://spacehal.github.io/docs/zumo32u4/proxy" hreflang="de"><link data-rh="true" rel="alternate" href="https://spacehal.github.io/docs/zumo32u4/proxy" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://TBHHG3V4Z4-dsn.algolia.net" crossorigin="anonymous"><link data-rh="true" rel="canonical" href="https://spacehal.github.io/docs/zumo32u4/proxy"><link rel="search" type="application/opensearchdescription+xml" title="Rule The Bots" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.a4f1c412.css">
<link rel="preload" href="/assets/js/runtime~main.42423a53.js" as="script">
<link rel="preload" href="/assets/js/main.ca89721a.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}return t}()||function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="Zum Hauptinhalt springen"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Zum Hauptinhalt springen</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/LogoSmallRed.svg" alt="Rule the Bots" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/LogoSmallRed.svg" alt="Rule the Bots" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">RuleTheBots</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/arduino/helloworld">Arduino</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/robotik/beginning">Robotik</a></div><div class="navbar__items navbar__items--right"><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/zumo32u4/gettingStarted">3pi+/Zumo</a><a class="navbar__item navbar__link" href="/docs/more/links">Links</a><div class="searchBox_ZlJk"><button type="button" class="DocSearch DocSearch-Button" aria-label="Suche"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Suche</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Zurück nach oben scrollen" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebarViewport_Xe31"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/LogoSmallRed.svg" alt="Rule the Bots" class="themedImage_ToTc themedImage--light_HNdA"><img src="/img/LogoSmallRed.svg" alt="Rule the Bots" class="themedImage_ToTc themedImage--dark_i4oU"><b>RuleTheBots</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/category/arduino">Arduino</a><button aria-label="Umschalten der Seitenleiste mit einklappbarer Kategorie &#x27;Arduino&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/docs/robotik/beginning">Roboter</a><button aria-label="Umschalten der Seitenleiste mit einklappbarer Kategorie &#x27;Roboter&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/docs/category/pololu-3pizumo">Pololu 3pi+/Zumo</a><button aria-label="Umschalten der Seitenleiste mit einklappbarer Kategorie &#x27;Pololu 3pi+/Zumo&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zumo32u4/installation">Installation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zumo32u4/gettingStarted">Erste Schritte</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/docs/category/befehlsreferenz">Befehlsreferenz</a><button aria-label="Umschalten der Seitenleiste mit einklappbarer Kategorie &#x27;Befehlsreferenz&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zumo32u4/zumoBasics">LEDs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zumo32u4/power">Batteriespannung</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zumo32u4/buttons">Taster</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zumo32u4/motors">Motoren</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zumo32u4/display">LCD-Display</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zumo32u4/OLEDdisplay">OLED-Display</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zumo32u4/lineSensor">Liniensensoren</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/zumo32u4/proxy">Näherungssensoren</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zumo32u4/encode">Radencoder</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/zumo32u4/imu">Inertiale Messeinheit</a></li></ul></li></ul></li></ul></nav><button type="button" title="Seitenleiste einklappen" aria-label="Seitenleiste einklappen" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/pololu-3pizumo"><span itemprop="name">Pololu 3pi+/Zumo</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/befehlsreferenz"><span itemprop="name">Befehlsreferenz</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Näherungssensoren</span><meta itemprop="position" content="3"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">Auf dieser Seite</button></div><div class="theme-doc-markdown markdown"><header><h1>Die Näherungssensoren (nur Zumo 32u4)</h1></header><p><em>Pololu Zumo 32u4 Library: <a href="https://pololu.github.io/zumo-32u4-arduino-library/class_zumo32_u4_proximity_sensors.html" target="_blank" rel="noopener noreferrer">Näherungssensoren</a></em></p><p>Mit der Klasse <code>Zumo32U4ProximitySensors</code> werden die Methoden für die Näherungssensoren bereitgestellt. </p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="einführung">Einführung<a href="#einführung" class="hash-link" aria-label="Direkter Link zur Einführung" title="Direkter Link zur Einführung">​</a></h2><p>Der Zumo32u4 hat drei <strong>IR-Näherungssensoren</strong> mit welchem nahe Objekte oder Hindernisse erkannt werden können. </p><img loading="lazy" src="/img/zumo32u4/ZumoProxyBottom.jpg" alt="Näherungssensoren des Zumo" width="550px" class="center img_ev3q"><p>Die Näherungssensoren  geben an, ob (reflektiertes) IR-Licht detektiert wurde oder nicht.  Im Gegensatz zu den Liniensensoren habe die drei Näherungssensoren keinen integrierten IR-Sender. Stattdessen erfassen sie reflektiertes IR-Licht, das von 4 IR-LEDs auf dem Zumo 32U4 Mainboard (auf der Oberseite des Roboters) ausgesendet wird. </p><p>Damit die Sensoren nicht irrtümlich IR-Licht detektieren, welches von fremden Quellen (z.B. dem Tageslicht oder einer Lampe) kommt, wird das IR-Licht mit einer Frequenz von ca. 38 kHz moduliert. Die drei an der Bodenplatine befindlichen IR-Empfänger (also die Näherungssensoren), können nur dieses modulierte Licht erkennen und sind damit relativ unempfindlich gegenüber anderen Störquellen.</p><p>Die Näherungssensoren sind nach den Richtungen benannt, in die sie zeigen: links, vorne oder rechts. Auf der Platine sind sie mit LFT, FRONT und RGT gekennzeichnet. Das für die Näherungssensoren verwendete Bauteil ist das <a href="https://www.pololu.com/file/0J615/tssp77038.pdf" target="_blank" rel="noopener noreferrer">Vishay TSSP77038 IR-Empfängermodul</a>. </p><p>IR-Näherungssensoren können auch verwendet werden, um Befehle von herkömmlichen <strong>IR-Fernbedienungen</strong> zu empfangen. </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="ir-leds-für-die-objekterkennung">IR-LEDs für die Objekterkennung<a href="#ir-leds-für-die-objekterkennung" class="hash-link" aria-label="Direkter Link zur IR-LEDs für die Objekterkennung" title="Direkter Link zur IR-LEDs für die Objekterkennung">​</a></h3><p>Auf dem Zumo32u4 Mainboard befinden sich auch 4 IR-LEDs, welche benötigt werden, um zusammen mit den 3 IR-Näherungssensoren nahe Objekte erkennen zu können:</p><ul><li>Zwei IR-LEDs (FRONT_LEFT und FRONT_RIGHT) befinden sich an der Vorderseite und sind geeignet Objekte vor dem Roboter zu detektieren.</li><li>Zwei seitliche IR-LEDs sind links und rechts (MIDDLE_LEFT und MIDDLE_RIGHT) an der Hauptplatine angebracht und strahlen IR-Licht zur Seite ab.</li></ul><p>Zum Detektieren möglicher Objekte werden in der Klasse <code>Zumo32U4ProximitySensors</code> verschiedene Methoden bereitgestellt, die für die einzelnen IR-Sensoren das reflektierte Licht der unterschiedlichen IR-LEDs bestimmen. </p><img loading="lazy" src="/img/zumo32u4/ZumoIRLED.jpg" alt="IR-LED Zumo" width="550px" class="center img_ev3q"><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="das-messprinzip">Das Messprinzip<a href="#das-messprinzip" class="hash-link" aria-label="Direkter Link zur Das Messprinzip" title="Direkter Link zur Das Messprinzip">​</a></h3><p>Die drei IR-Näherungssensoren sind digitale Sensoren, welche nur zwei Zustände annehmen können: Entweder IR-Licht wurde detektiert oder kein IR-Licht wurde detektiert. Information über die Intensität des detektierten Lichtes können die Sensoren nicht liefern.</p><p>Um trotzdem zu ermitteln, wieviel IR-Licht ein Objekt reflektiert, kann <strong>die Helligkeit der IR-LEDs variiert</strong> werden und dadurch bestimmt werden, ab welcher Helligkeit der IR-Sensor <strong>reflektiertes IR-Licht detektiert</strong>. In der praktischen Anwendung werden zum Beispiel 10 Messungen mit 10 verschieden Helligkeiten der IR-LEDs durchgeführt, um dann zu bestimmen, bei welcher Helligkeit der IR-Sensor aktiviert wird. Die Helligkeit der IR-LEDs wird hierbei über ein PWM-Signal gesteuert.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="eigenschaften-der-objekterkennung">Eigenschaften der Objekterkennung<a href="#eigenschaften-der-objekterkennung" class="hash-link" aria-label="Direkter Link zur Eigenschaften der Objekterkennung" title="Direkter Link zur Eigenschaften der Objekterkennung">​</a></h3><p>Die verwendeten Sensoren sind nur bedingt für die Entfernungsbestimmung von Objekten geeignet. Wie stark das abgestrahlte Infrarotlicht von einem Objekt reflektiert wird, hängt von verschiedenen Faktoren wie Farbe, Oberflächenbeschaffenheit oder Ausrichtung des Objektes ab. Daher ist es nur schwer möglich, alleine aus der Information über die Intensität des reflektierten Lichtes die Entfernung eines beliebigen Objektes zu bestimmen. Hierfür wären <a href="https://www.sparkfun.com/distance_sensor_comparison_guide" target="_blank" rel="noopener noreferrer">anderen Sensoren</a> besser geeignet.</p><p>Beschränkt man sich jedoch auf ein Objekt, dessen Reflexionseigenschaften bekannt sind (z.B. eine Box oder einen anderen Roboter), so ist es möglich aus der Intensität des reflektierten Lichtes die Entfernung des Objektes in starker Näherung zu bestimmen.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="linien--und-näherungssensoren">Linien- und Näherungssensoren<a href="#linien--und-näherungssensoren" class="hash-link" aria-label="Direkter Link zur Linien- und Näherungssensoren" title="Direkter Link zur Linien- und Näherungssensoren">​</a></h3><p>Leider hat der vom Zumo32u4 verwendete Mikrocontroller nicht genug freie Ein-/Ausgabe-Pins, damit alle 5 Bodensensoren und alle 3 Näherungssensoren zur selben Zeit betrieben werden können. Insgesamt können nie mehr als 6 Sensoren zur gleichen Zeit verwendet werden (3 Linien- und 3 Näherungssensoren, 4 Linien- und 2 Näherungssensoren, 5 Linien- und 1 Näherungssensor). <strong>Je nachdem welche Sensoren verwendet werden sollen, müssen an der Platine für die Bodensensoren Jumper-Stecker neu gesetzt werden.</strong></p><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Wenn alle fünf Bodensensoren verwendet werden, kann nur der fordere Näherungssensor verwendet werden.</p></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="messen">Messen<a href="#messen" class="hash-link" aria-label="Direkter Link zur Messen" title="Direkter Link zur Messen">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="void-read"><code>void read()</code><a href="#void-read" class="hash-link" aria-label="Direkter Link zur void-read" title="Direkter Link zur void-read">​</a></h3><p>Die Hauptmethode der Klasse, welche die IR-LEDs ansteuert und die Intensität des reflektierten IR-Licht misst. Fast alle andern Methoden der Klasse dienen dazu, das Verhalten dieser Methode zu konfigurieren oder auf die Messergebnisse dieser Methode zugreifen zu können. </p><p>Die Methode <code>void read()</code> führt folgende Aktionen aus:</p><ol><li>Näherungssensoren aktivieren.</li><li>Liniensensoren IR LEDs deaktivieren.</li><li>Für <strong>jeden festgelegten Helligkeitswert</strong> der LEDs werden folgende Aktionen ausgeführt:<ol><li>Startet IR-Pulse mit den beiden IR-LEDs auf der <em>linken</em> Seite.</li><li>Wertet jeden IR-Sensor aus.</li><li>Schaltet die LED-Pulse aus.</li><li>Startet IR-Pulse mit den beiden IR-LEDs auf der <em>rechten</em> Seite.</li><li>Wertet jeden IR-Sensor aus.</li><li>Schaltet die LED-Pulse aus.</li></ol></li></ol><div class="theme-admonition theme-admonition-caution alert alert--warning admonition_LlT9"><div class="admonitionHeading_tbUL"><span class="admonitionIcon_kALy"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>caution</div><div class="admonitionContent_S0QG"><p>Die Methode  <code>read()</code> hat keinen Rückgabewert. Zum Auslesen der Messwerte werden daher verschieden Methoden bereitgestellt (Abschnitt <a href="#auslesen"><em>Auslesen</em></a>).</p></div></div><p>Die <strong>Helligkeitswerte</strong> der IR-LEDs können mit der Methode <a href="/docs/zumo32u4/proxy#void-setbrightnesslevels"><code>setBrightnessLevels()</code></a> festgelegt werden. Die Frequenz der IR Pulse, welche standardmäßig 38 kHz beträgt, kann mit <code>void setPeriod()</code> geändert werden (ändert auch die Empfindlichkeit des IR-Sensors).</p><p>Mit den Standardeinstellung benötigt die Methode etwa 2,15 Millisekunden pro Helligkeitswert plus 0,62 Millisekunden. Die Anzahl der verwendeten Sensoren hat nur einen geringen Einfluss auf die benötigte Zeit.</p><p>Nach der Methode <code>read()</code> sollte zum Auswerten der Ergebnisse eine der <a href="#auslesen">Auslesemethoden</a> aufgerufen werden.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="konfigurieren">Konfigurieren<a href="#konfigurieren" class="hash-link" aria-label="Direkter Link zur Konfigurieren" title="Direkter Link zur Konfigurieren">​</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="zumo32u4proximitysensors"><code>Zumo32U4ProximitySensors()</code><a href="#zumo32u4proximitysensors" class="hash-link" aria-label="Direkter Link zur zumo32u4proximitysensors" title="Direkter Link zur zumo32u4proximitysensors">​</a></h3><p>Konstruktor der <code>Zumo32U4ProximitySensors</code> Klasse. </p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="void-initfrontsensor"><code>void initFrontSensor()</code><a href="#void-initfrontsensor" class="hash-link" aria-label="Direkter Link zur void-initfrontsensor" title="Direkter Link zur void-initfrontsensor">​</a></h3><p>Konfiguriert das vorher erzeugte Objekt für die Verwendung des Frontsensors.</p><div class="language-arduino codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-arduino codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;Zumo32U4.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zumo32U4ProximitySensors proxSensor</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Objekt erzeugen</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">proxSensor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">initFrontSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Initialisieren des Frontsensors</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="void-initthreesensors"><code>void initThreeSensors()</code><a href="#void-initthreesensors" class="hash-link" aria-label="Direkter Link zur void-initthreesensors" title="Direkter Link zur void-initthreesensors">​</a></h3><p>Konfiguriert das vorher erzeugte Objekt für die Verwendung von allen drei Näherungssensoren. Die korrekte Jumpereinstellungen an der Platine für die Liniensensoren ist zu beachten.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="void-setbrightnesslevels"><code>void setBrightnessLevels(...)</code><a href="#void-setbrightnesslevels" class="hash-link" aria-label="Direkter Link zur void-setbrightnesslevels" title="Direkter Link zur void-setbrightnesslevels">​</a></h3><p><code>void setBrightnessLevels (uint16_t *levels, uint8_t levelCount)</code></p><p>Legt eine Reihe von Helligkeitswerten für die IR-LED fest, welche von der Methode <code>read()</code> verwendet wird. Wird die Methode <code>setBrightnessLevels</code> nicht genutzt, so werden für die IR-LEDs die Standardwerte 4, 15, 32, 55, 85 und 120 verwendet. Sinnvolle Werte liegen zwischen 1 und 128.</p><p>Parameter</p><ul><li><code>levels</code> Pointer zu einem Array mit Helligkeitswerten</li><li><code>levelCount</code> Anzahl der Helligkeitswerte</li></ul><div class="language-arduino codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-arduino codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">inlcude</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property expression operator" style="color:#393A34">&lt;</span><span class="token macro property expression" style="color:#36acaa">Zumo32U4</span><span class="token macro property expression punctuation" style="color:#393A34">.</span><span class="token macro property expression" style="color:#36acaa">h</span><span class="token macro property expression operator" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zumo32U4ProximitySensors proxySensors</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">                       </span><span class="token comment" style="color:#999988;font-style:italic">// Objekt erzeugen</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uint16_t levels</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">8</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">16</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">64</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">128</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">             </span><span class="token comment" style="color:#999988;font-style:italic">// Array für Helligkeitswerte</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">proxySensors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setBrightnessLevels</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">levels</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">levels</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token function" style="color:#d73a49">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">levels</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Helligkeitswerte festlegen</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="void-setperiod"><code>void setPeriod()</code><a href="#void-setperiod" class="hash-link" aria-label="Direkter Link zur void-setperiod" title="Direkter Link zur void-setperiod">​</a></h3><p><code>void setPeriod (uint16_t period)</code></p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="auslesen">Auslesen<a href="#auslesen" class="hash-link" aria-label="Direkter Link zur Auslesen" title="Direkter Link zur Auslesen">​</a></h2><p>Für das Auswerten der mit <a href="/docs/zumo32u4/proxy#void-read"><code>read()</code></a> durchgeführten Messung gibt es verschieden Methoden, welche sich in der Kombination von IR Sensor und IR LED unterscheiden. </p><img loading="lazy" src="/img/zumo32u4/ZumoProxyTop.png" alt="Naeherungssensor des Zumo 32U4" width="500px" class="center img_ev3q"><p>Für jeden IR Sensor (<em>Left, Front, Right</em>) stehen zwei Methoden zur Verfügung. Die Methoden geben an, bei wie vielen Helligkeitswerten der linken (<em>Left LEDs</em>) oder rechten LED (<em>Right LEDs</em>) der IR Sensor Licht detektiert hat.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="uint8_t-countsleftwithleftleds"><code>uint8_t countsLeftWithLeftLeds()</code><a href="#uint8_t-countsleftwithleftleds" class="hash-link" aria-label="Direkter Link zur uint8_t-countsleftwithleftleds" title="Direkter Link zur uint8_t-countsleftwithleftleds">​</a></h3><p>Gibt die <strong>Anzahl</strong> der Helligkeitswerte der <strong>linken LEDs</strong> zurück, bei denen der <strong>linke Näherungssensor</strong> aktiviert wurde.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="uint8_t-countsleftwithrightleds"><code>uint8_t countsLeftWithRightLeds()</code><a href="#uint8_t-countsleftwithrightleds" class="hash-link" aria-label="Direkter Link zur uint8_t-countsleftwithrightleds" title="Direkter Link zur uint8_t-countsleftwithrightleds">​</a></h3><p>Gibt die <strong>Anzahl</strong> der Helligkeitswerte der <strong>rechten LEDs</strong> zurück, bei denen der <strong>linke Näherungssensor</strong> aktiviert wurde.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="uint8_t-countsrightwithleftleds"><code>uint8_t countsRightWithLeftLeds()</code><a href="#uint8_t-countsrightwithleftleds" class="hash-link" aria-label="Direkter Link zur uint8_t-countsrightwithleftleds" title="Direkter Link zur uint8_t-countsrightwithleftleds">​</a></h3><p>Gibt die <strong>Anzahl</strong> der Helligkeitswerte der <strong>linken LEDs</strong> zurück, bei denen der <strong>rechte Näherungssensor</strong> aktiviert wurde.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="uint8_t-countsrightwithrightleds"><code>uint8_t countsRightWithRightLeds()</code><a href="#uint8_t-countsrightwithrightleds" class="hash-link" aria-label="Direkter Link zur uint8_t-countsrightwithrightleds" title="Direkter Link zur uint8_t-countsrightwithrightleds">​</a></h3><p>Gibt die <strong>Anzahl</strong> der Helligkeitswerte der <strong>rechten LEDs</strong> zurück, bei denen der <strong>rechte Näherungssensor</strong> aktiviert wurde.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="uint8_t-countsfrontwithleftleds"><code>uint8_t countsFrontWithLeftLeds()</code><a href="#uint8_t-countsfrontwithleftleds" class="hash-link" aria-label="Direkter Link zur uint8_t-countsfrontwithleftleds" title="Direkter Link zur uint8_t-countsfrontwithleftleds">​</a></h3><p>Gibt die <strong>Anzahl</strong> der Helligkeitswerte der <strong>linken LEDs</strong> zurück, bei denen der <strong>mittlere Näherungssensor</strong> aktiviert wurde.</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="uint8_t-countsfrontwithredleds"><code>uint8_t countsFrontWithRedLeds()</code><a href="#uint8_t-countsfrontwithredleds" class="hash-link" aria-label="Direkter Link zur uint8_t-countsfrontwithredleds" title="Direkter Link zur uint8_t-countsfrontwithredleds">​</a></h3><p>Gibt die <strong>Anzahl</strong> der Helligkeitswerte der <strong>rechten LEDs</strong> zurück, bei denen der <strong>mittlere Näherungssensor</strong> aktiviert wurde.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="beispielprogramm">Beispielprogramm<a href="#beispielprogramm" class="hash-link" aria-label="Direkter Link zur Beispielprogramm" title="Direkter Link zur Beispielprogramm">​</a></h2><div class="language-arduino codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-arduino codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">/* Einfaches Beispielprogramm, bei dem die Messewerte des Front-IR-Sensors ausgegeben</span><br></span><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">    werden. Wird ein Objekt erkannt, so wird dies auf dem LCD-Display angezeigt. */</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&lt;Zumo32U4.h&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zumo32U4LCD lcd</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Zumo32U4ProximitySensors proxySensors</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> schwellwert </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Schwellwert für die Objekterkennung</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">setup</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Initialisierung des vorderen IR Sensors. In dieser Konfiguration </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// werden die beiden seitlichen IR Sensoren nicht verwendet.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  proxySensors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">initFrontSensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Die Werte des level[] Arrays geben die Intensitäten der IR LEDs an. Je höher der Wert,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// desto wahrscheinlicher, dass ein Objekt das Licht reflektiert und der IR Sensor es detektiert.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> levels</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">3</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">9</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">14</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">25</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">40</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">70</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  proxySensors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">setBrightnessLevels</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">levels</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">levels</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">/</span><span class="token function" style="color:#d73a49">sizeof</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">levels</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lcd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// Display löschen</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">loop</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  proxySensors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">read</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Wertet den vorderen IR Sensor mit den IR-LEDs links und rechts aus.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Anzahl der Werte, bei denen der IR Sensor Licht detektiert hat.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> wertLinks </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proxySensors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">countsFrontWithLeftLeds</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">int</span><span class="token plain"> wertRechts </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> proxySensors</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">countsFrontWithRightLeds</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Bestimmen, ob ein Objekt erkannt wurde (|| - ODER)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">bool</span><span class="token plain"> objektErkannt </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> wertLinks </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> schwellwert </span><span class="token operator" style="color:#393A34">||</span><span class="token plain"> wertRechts </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> schwellwert</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">ledRed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">objektErkannt</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Led wird angeschaltet, wenn ein Objekt wurde erkannt</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lcd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">gotoXY</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">         </span><span class="token comment" style="color:#999988;font-style:italic">// Ausgabe auf dem LCD-Display</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lcd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">wertLinks</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lcd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token char">&#x27; &#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lcd</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">wertRechts</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="In die Zwischenablage kopieren" title="Kopieren" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Dokumentation Seiten"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/zumo32u4/lineSensor"><div class="pagination-nav__sublabel">Zurück</div><div class="pagination-nav__label">Liniensensoren</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/zumo32u4/encode"><div class="pagination-nav__sublabel">Weiter</div><div class="pagination-nav__label">Radencoder</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#einführung" class="table-of-contents__link toc-highlight">Einführung</a><ul><li><a href="#ir-leds-für-die-objekterkennung" class="table-of-contents__link toc-highlight">IR-LEDs für die Objekterkennung</a></li><li><a href="#das-messprinzip" class="table-of-contents__link toc-highlight">Das Messprinzip</a></li><li><a href="#eigenschaften-der-objekterkennung" class="table-of-contents__link toc-highlight">Eigenschaften der Objekterkennung</a></li><li><a href="#linien--und-näherungssensoren" class="table-of-contents__link toc-highlight">Linien- und Näherungssensoren</a></li></ul></li><li><a href="#messen" class="table-of-contents__link toc-highlight">Messen</a><ul><li><a href="#void-read" class="table-of-contents__link toc-highlight"><code>void read()</code></a></li></ul></li><li><a href="#konfigurieren" class="table-of-contents__link toc-highlight">Konfigurieren</a><ul><li><a href="#zumo32u4proximitysensors" class="table-of-contents__link toc-highlight"><code>Zumo32U4ProximitySensors()</code></a></li><li><a href="#void-initfrontsensor" class="table-of-contents__link toc-highlight"><code>void initFrontSensor()</code></a></li><li><a href="#void-initthreesensors" class="table-of-contents__link toc-highlight"><code>void initThreeSensors()</code></a></li><li><a href="#void-setbrightnesslevels" class="table-of-contents__link toc-highlight"><code>void setBrightnessLevels(...)</code></a></li><li><a href="#void-setperiod" class="table-of-contents__link toc-highlight"><code>void setPeriod()</code></a></li></ul></li><li><a href="#auslesen" class="table-of-contents__link toc-highlight">Auslesen</a><ul><li><a href="#uint8_t-countsleftwithleftleds" class="table-of-contents__link toc-highlight"><code>uint8_t countsLeftWithLeftLeds()</code></a></li><li><a href="#uint8_t-countsleftwithrightleds" class="table-of-contents__link toc-highlight"><code>uint8_t countsLeftWithRightLeds()</code></a></li><li><a href="#uint8_t-countsrightwithleftleds" class="table-of-contents__link toc-highlight"><code>uint8_t countsRightWithLeftLeds()</code></a></li><li><a href="#uint8_t-countsrightwithrightleds" class="table-of-contents__link toc-highlight"><code>uint8_t countsRightWithRightLeds()</code></a></li><li><a href="#uint8_t-countsfrontwithleftleds" class="table-of-contents__link toc-highlight"><code>uint8_t countsFrontWithLeftLeds()</code></a></li><li><a href="#uint8_t-countsfrontwithredleds" class="table-of-contents__link toc-highlight"><code>uint8_t countsFrontWithRedLeds()</code></a></li></ul></li><li><a href="#beispielprogramm" class="table-of-contents__link toc-highlight">Beispielprogramm</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/SpaceHal/spacehal.github.io/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Schule</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.osztiem.de/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OSZTIEM<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.arduino.cc/reference/de/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Arduino<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/impressum">Impressum</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 Stefan Warm. Built with Docusaurus.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.42423a53.js"></script>
<script src="/assets/js/main.ca89721a.js"></script>
</body>
</html>